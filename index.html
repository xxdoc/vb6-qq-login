<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="代码分享,代码交流,社区共建,开源">
  <meta name="keywords" content="函数,代码分享,function,js,asp,vb,极速学车">
  <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
  <title>欢迎使用SunSoft代码分享平台（极速学车）</title>
  <!-- Bootstrap -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- 通用js和css -->
  <script type="text/javascript" src="data.js" charset="utf-8"></script>
</head>
<body>
  <script type="text/javascript">
  //basic structure of those objects
  var friend_base = {
    uin: 'QQ号',   //done
    flag: '未知意义',
    categories: '分组序号'  //done
  };

  var categorie_base = {
    index: '未知',
    sort: '未知',
    name: '分组的名字'
  };

  var info_base = {
    flag: '未知',
    face: '未知',
    nick: '昵称', //done
    uin: 'QQ号'
  };

  var markname_base = {
    uin: 'QQ号',
    markname: '备注姓名', //done
    type: '未知意义'
  };

  var vipinfo_base = {
    vip_level: 'vip等级', //done
    u: 'QQ号',
    is_vip: '是否VIP用户' //done
  };
    var friends = data.result.friends;
    var infos = data.result.info;
    var marknames = data.result.marknames;
    var vipinfos = data.result.vipinfo;
    var categories = data.result.categories;
    var myfriends = {};
    var mycategories = {};
    var keys = [];
    var myfriends_arr = [];

    for (var category_id in categories) {
      mycategories[categories[category_id].index] = categories[category_id]['name'];
    }

    for (var friend_id in friends) {
      var friend = friends[friend_id];
      myfriends[friend.uin] = {
        'QQ号': friend.uin,
        '分组': mycategories[friend.categories]
      };
    }

    for (var info_id in infos) {
      var info = infos[info_id];
      myfriends[info.uin]['昵称'] = info.nick;
    }

    for (var markname_id in marknames) {
      var markname = marknames[markname_id];
      myfriends[markname.uin]['备注名'] = markname.markname;
    }

    for (var vipinfo_id in vipinfos) {
      var vipinfo = vipinfos[vipinfo_id];
      myfriends[vipinfo.u]['是否VIP'] = vipinfo.is_vip;
      myfriends[vipinfo.u]['VIP等级'] = vipinfo.vip_level;
    }

    for (var key_id in myfriends) {
      myfriends_arr.push(myfriends[key_id]);
    }

  </script>
</body>
</html>
